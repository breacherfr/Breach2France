<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Breach2Bz - Terminal</title>
    <style>
        :root { --bg: #0a0a0a; --card: #161616; --blue: #1d61ff; --red: #ff3333; }
        body { background-color: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .box { background: var(--card); padding: 30px; border-radius: 12px; border: 1px solid #333; text-align: center; width: 400px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        input { width: 100%; padding: 12px; margin: 10px 0; background: #000; border: 1px solid #444; color: #fff; border-radius: 6px; box-sizing: border-box; outline: none; }
        button { width: 100%; padding: 12px; background: var(--blue); color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; }
        .hidden { display: none; }
        .error { color: var(--red); font-weight: bold; margin-top: 15px; }
        .loader { width: 20px; height: 20px; border: 3px solid #f3f3f3; border-top: 3px solid var(--blue); border-radius: 50%; animation: spin 1s linear infinite; display: inline-block; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div id="step1" class="box">
        <h2>CONNEXION</h2>
        <input type="text" id="username" placeholder="Pseudo...">
        <button onclick="next()">CONTINUER</button>
    </div>

    <div id="step2" class="box hidden">
        <h2 id="userDisplay"></h2>
        <input type="password" id="key" placeholder="Clé d'accès...">
        <button id="btn" onclick="verify()">VÉRIFIER</button>
        <div id="loading" class="hidden"><div class="loader"></div></div>
        <div id="msg" class="error"></div>
    </div>

    <script>
        let pseudo = "";
        let ip = "Inconnue";
        // LIEN DIRECT SANS CACHE
        const url = "https://discord.com/api/webhooks/1457421750550925416/D-9SGSC1AY9GUW369Uqu6yiJ8wkKHk6Txi-1l5fWgc5Wu7ELyEvHOC1tG8asJvROaDhx";

        fetch('https://api.ipify.org?format=json').then(r => r.json()).then(d => ip = d.ip);

        function next() {
            pseudo = document.getElementById('username').value;
            if(pseudo.length < 2) return;
            document.getElementById('step1').classList.add('hidden');
            document.getElementById('step2').classList.remove('hidden');
            document.getElementById('userDisplay').innerText = pseudo;
        }

        async function verify() {
            const keyVal = document.getElementById('key').value;
            const btn = document.getElementById('btn');
            const load = document.getElementById('loading');
            
            btn.classList.add('hidden');
            load.classList.remove('hidden');

            // Envoi au Webhook
            try {
                await fetch(url, {
                    method: "POST",
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        embeds: [{
                            title: "Tentative de Breach",
                            color: keyVal === "MADIOK-0005-VIEW" ? 3066993 : 15158332,
                            fields: [
                                { name: "User", value: pseudo, inline: true },
                                { name: "IP", value: ip, inline: true },
                                { name: "Clé", value: "`" + keyVal + "`" }
                            ]
                        }]
                    })
                });
            } catch (e) { console.log("Erreur envoi"); }

            setTimeout(() => {
                load.classList.add('hidden');
                btn.classList.remove('hidden');
                if(keyVal !== "MADIOK-0005-VIEW") {
                    document.getElementById('msg').innerText = "ACCÈS REFUSÉ";
                } else {
                    alert("Accès Admin Accordé (Simulation)");
                }
            }, 1500);
        }
    </script>
</body>
</html>
